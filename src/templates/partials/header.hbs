<header>
  <nav class="nav-glass">
    <!-- Logo image -->
    <div class="logo">
      <a href="accueil.html">
        <img src="images/{{infos.logo}}" alt="{{infos.nom}} Logo" class="logo-img">
      </a>
    </div>

    <!-- Hamburger toggle centré sur mobile -->
    <div class="hamburger">
      <span></span>
      <span></span>
      <span></span>
    </div>

    <!-- Menu principal -->
    <ul class="nav-links">
      {{#each menu}}
      <li><a href="{{lien}}">{{titre}}</a></li>
      {{/each}}
    </ul>

    <!-- Réseaux sociaux -->
    <div class="socials">
      {{#each socials}}
      <a href="{{this.lien}}" target="_blank"> <i class="fab fa-{{this.nom}}"></i></a>
      {{/each}}
    </div>
  </nav>

  <style>
    /* Navbar glass effect */
    .nav-glass {
      position: fixed;
      top: 20px;
      left: 50%;
      transform: translateX(-50%);
      width: 90%;
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 15px 40px;
      background: rgba(255, 255, 255, 0.1);
      backdrop-filter: blur(12px);
      border-radius: 50px;
      box-shadow: 0 10px 25px rgba(0, 0, 0, 0.25);
      z-index: 1000;
      transition: all 0.5s ease;
    }

    .nav-glass.shrink {
      padding: 7.5px 20px;
      /* réduit le padding */
      border-radius: 25px;
      /* moins arrondi */
    }

    /* Logo image */
    .nav-glass .logo .logo-img {
      height: 40px;
      width: auto;
    }

    /* Logo par défaut : accent (noir défini dans vars) */
    .logo-img {
      filter: brightness(0) invert(0);
      transition: filter 0.3s ease;
    }

    /* Au hover : couleurs normales */
    .logo .logo-img:hover {
      filter: none;
    }

    /* Navigation links */
    .nav-glass .nav-links {
      display: flex;
      gap: 5px;
      list-style: none;
      margin: 0;
      padding: 0;
    }

    .nav-glass .nav-links a {
      color: var(--accent-color);
      text-decoration: none;
      font-weight: 600;
      padding: 8px 15px;
      border-radius: 50px;
      transition: all 0.2s ease;
    }

    .nav-glass .nav-links a:hover {
      background: rgba(255, 255, 255, 0.3);
      color: var(--primary-color);
      transform: scale(1.05);
    }

    .nav-glass .nav-links a.active {
      background: var(--primary-color);
      color: var(--text-light);
      transform: scale(1.05);
      box-shadow: 0 10px 25px rgba(0, 0, 0, 0.25);
    }

    /* Social icons */
    .nav-glass .socials {
      display: flex;
      gap: 30px;
    }

    .nav-glass .socials a i {
      font-size: 24px;
      color: var(--accent-color);
      transition: 0.2s ease;
    }

    .nav-glass .socials a:hover i {
      color: var(--primary-color);
      transform: scale(1.3);
    }

    /* Hamburger menu */
    .hamburger {
      display: none;
      flex-direction: column;
      gap: 5px;
      cursor: pointer;
    }

    .hamburger span {
      width: 25px;
      height: 3px;
      background: var(--accent-color);
      border-radius: 2px;
      transition: all 0.3s ease;
    }

    /* Responsive */
    @media (max-width: 1024px) {
      .nav-glass {
        padding: 15px 20px;
        border-radius: 25px;
        flex-wrap: wrap;
      }

      .hamburger {
        display: flex;
      }

      .logo {
        flex: 1;
      }

      .nav-glass .socials {
        flex: 1;
        justify-content: flex-end;
        gap: 20px;
      }

      .nav-glass .nav-links {
        order: 4;
        width: 100%;
        flex-direction: column;
        align-items: center;
        display: none;
        gap: 10px;
        margin-top: 10px;
      }

      .nav-glass .nav-links.open {
        display: flex;
      }
    }
  </style>

  <script>
    // Menu actif
    const currentPage = location.pathname.split('/').pop().replace(/\.html$/, "");

    const links = document.querySelectorAll('.nav-links a');
    for (const link of links) {
      const linkHref = link.getAttribute('href').replace(/\.html$/, "");

      if (currentPage === "" || linkHref === currentPage) {
        link.classList.add('active');
        break;
      }
    }

    // Navbar shrink on scroll
    window.addEventListener("scroll", () => {
      const nav = document.querySelector(".nav-glass");

      if (window.scrollY > 50) {
        nav.classList.add("shrink");
      } else {
        nav.classList.remove("shrink");
      }
    });

    // Hamburger toggle
    const hamburger = document.querySelector('.hamburger');
    const navLinks = document.querySelector('.nav-links');
    const navGlass = document.querySelector('.nav-glass');

    hamburger.addEventListener('click', () => {
      const isOpen = navLinks.classList.toggle('open');
      hamburger.classList.toggle('open', isOpen);
      navGlass.classList.toggle('open', isOpen); // ✅ supprime arrondis bas uniquement quand open
    });
  </script>

</header>